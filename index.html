<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï±ÑÎÑêÌÜ° ÎπÑÎã¥Îãπ ÏÉÅÎã¥ Ï∂îÏ†Å ÏãúÏä§ÌÖú - Pro Version</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='50%' x='50%' text-anchor='middle' font-size='80'>üí¨</text></svg>">
    
    <!-- Supabase Client -->
    <script src="https://unpkg.com/@supabase/supabase-js@2.39.0/dist/umd/supabase.min.js"></script>
    
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #1E6FFF;
            --success: #00FF00;
            --error: #FF4444;
            --warning: #FFD700;
            --bg: #000;
            --bg-secondary: #111;
            --border: #222;
            --text: #fff;
            --text-muted: #888;
            --text-bright: #ccc;
        }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            min-height: 100vh; 
            overflow-x: hidden;
        }
        
        .container { 
            max-width: 1600px; 
            margin: 0 auto; 
            padding: 40px 20px; 
        }
        
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }
        .loading-screen.hide {
            opacity: 0;
            pointer-events: none;
        }
        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        /* Header */
        .header { 
            text-align: center; 
            margin-bottom: 50px;
            padding: 30px;
            background: var(--bg);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: scan 3s linear infinite;
        }
        .header h1 { 
            font-size: 52px; 
            font-weight: 200; 
            margin-bottom: 15px;
        }
        .header h1 span { 
            color: var(--primary); 
            font-weight: 400;
        }
        .subtitle { 
            color: var(--text-muted); 
            font-size: 16px; 
            margin-top: 10px;
            letter-spacing: 0.5px;
        }
        .date-display { 
            color: var(--text-muted); 
            font-size: 15px; 
            text-transform: uppercase; 
            letter-spacing: 2px; 
            margin-top: 20px;
        }
        .live-indicator {
            display: inline-block;
            padding: 5px 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--success);
            border-radius: 20px;
            margin-top: 15px;
            font-size: 13px;
            color: var(--success);
        }
        .live-indicator::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }
        
        /* Control Bar */
        .control-bar { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 25px 30px; 
            background: var(--bg); 
            border: 1px solid var(--border);
            margin-bottom: 40px; 
            flex-wrap: wrap; 
            gap: 20px;
        }
        .control-buttons { 
            display: flex; 
            gap: 15px; 
            flex-wrap: wrap; 
        }
        .btn { 
            padding: 12px 30px; 
            background: transparent; 
            color: var(--text-muted); 
            border: 1px solid #333; 
            font-size: 15px; 
            font-weight: 500; 
            letter-spacing: 1px; 
            text-transform: uppercase; 
            cursor: pointer; 
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: var(--primary);
            opacity: 0.3;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }
        .btn:active::before {
            width: 300px;
            height: 300px;
        }
        .btn:hover { 
            color: var(--primary); 
            border-color: var(--primary);
        }
        .btn.primary { 
            color: var(--primary); 
            border-color: var(--primary);
        }
        .btn.primary:hover { 
            background: var(--primary); 
            color: var(--bg);
        }
        .btn:disabled { 
            opacity: 0.5; 
            cursor: not-allowed; 
        }
        
        /* Stats Grid */
        .stats-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 2px; 
            margin-bottom: 50px;
            background: var(--bg-secondary);
            padding: 2px;
        }
        .stat-card { 
            background: var(--bg); 
            padding: 35px; 
            text-align: center; 
            position: relative; 
            overflow: hidden;
            transition: all 0.3s;
        }
        .stat-card:hover {
            background: #050505;
            transform: translateY(-2px);
        }
        .stat-icon {
            font-size: 36px;
            margin-bottom: 15px;
            opacity: 0.7;
        }
        .stat-value { 
            font-size: 52px; 
            font-weight: 200; 
            color: var(--primary); 
            margin-bottom: 12px;
            font-variant-numeric: tabular-nums;
            transition: all 0.3s;
        }
        .stat-value.updating {
            transform: scale(1.1);
        }
        .stat-label { 
            font-size: 14px; 
            color: var(--text-muted); 
            text-transform: uppercase; 
            letter-spacing: 2px;
            font-weight: 400;
        }
        .stat-change {
            font-size: 15px;
            color: var(--success);
            margin-top: 10px;
            font-weight: 500;
        }
        .stat-change.down { 
            color: var(--error); 
        }
        
        /* Tabs */
        .tabs-container {
            margin-bottom: 40px;
        }
        .tabs-header {
            display: flex;
            gap: 2px;
            background: var(--bg-secondary);
            padding: 2px;
            margin-bottom: 2px;
        }
        .tab-button {
            flex: 1;
            padding: 15px;
            background: var(--bg);
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
        }
        .tab-button:hover {
            color: var(--text-bright);
        }
        .tab-button.active {
            color: var(--primary);
            background: var(--bg-secondary);
        }
        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }
        .tab-content.active {
            display: block;
        }
        
        /* Activity Feed */
        .activity-feed {
            background: var(--bg);
            border: 1px solid var(--border);
            margin-bottom: 40px;
            max-height: 500px;
            overflow: hidden;
        }
        .feed-header {
            padding: 25px 30px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .feed-title {
            font-size: 17px;
            font-weight: 300;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--primary);
        }
        .feed-content {
            max-height: 400px;
            overflow-y: auto;
            padding: 0;
        }
        .activity-item {
            padding: 20px 30px;
            border-bottom: 1px solid #111;
            transition: all 0.2s;
            animation: slideIn 0.3s;
        }
        .activity-item:hover {
            background: #050505;
            padding-left: 35px;
        }
        .activity-time {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .activity-text {
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-bright);
        }
        .activity-counselor {
            color: var(--primary);
            font-weight: 500;
        }
        .activity-customer {
            color: var(--warning);
            font-weight: 500;
        }
        
        /* Tables */
        .table-container {
            background: var(--bg);
            border: 1px solid var(--border);
            margin-bottom: 30px;
            overflow: hidden;
        }
        .table-header {
            padding: 25px 30px;
            border-bottom: 1px solid var(--border);
            background: var(--bg-secondary);
        }
        .table-title {
            font-size: 17px;
            font-weight: 300;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--primary);
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th {
            padding: 20px;
            text-align: left;
            font-size: 13px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid var(--border);
            font-weight: 500;
        }
        td {
            padding: 20px;
            font-size: 16px;
            border-bottom: 1px solid #111;
            color: var(--text-bright);
            font-variant-numeric: tabular-nums;
        }
        tr:hover {
            background: #050505;
        }
        .rank-number {
            display: inline-block;
            width: 35px;
            height: 35px;
            line-height: 35px;
            text-align: center;
            border-radius: 50%;
            font-weight: 600;
            font-size: 16px;
            background: var(--bg-secondary);
            border: 1px solid #333;
        }
        .rank-1 { background: var(--warning); color: var(--bg); border: none; }
        .rank-2 { background: #C0C0C0; color: var(--bg); border: none; }
        .rank-3 { background: #CD7F32; color: var(--text); border: none; }
        
        /* Chart Container */
        .chart-container {
            background: var(--bg);
            border: 1px solid var(--border);
            padding: 30px;
            margin-bottom: 30px;
            height: 400px;
            position: relative;
        }
        
        /* Settings Panel */
        .settings-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border);
            transition: right 0.3s;
            z-index: 1000;
            overflow-y: auto;
        }
        .settings-panel.open {
            right: 0;
        }
        .settings-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .settings-content {
            padding: 20px;
        }
        .setting-group {
            margin-bottom: 30px;
        }
        .setting-label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-muted);
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .setting-input {
            width: 100%;
            padding: 10px;
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--text);
            font-size: 14px;
        }
        
        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 18px 25px;
            background: var(--bg-secondary);
            border: 1px solid var(--primary);
            color: var(--text);
            font-size: 15px;
            font-weight: 500;
            z-index: 1000;
            animation: slideInRight 0.3s;
            display: none;
            max-width: 400px;
        }
        .notification.show { display: block; }
        .notification.error { border-color: var(--error); }
        .notification.success { border-color: var(--success); }
        
        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        @keyframes scan {
            to { left: 100%; }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { background: #333; }
        ::-webkit-scrollbar-thumb:hover { background: #444; }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 20px 10px; }
            .header h1 { font-size: 36px; }
            .stat-value { font-size: 42px; }
            .control-bar { flex-direction: column; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Ï±ÑÎÑêÌÜ° <span>ÎπÑÎã¥Îãπ ÏÉÅÎã¥ Ï∂îÏ†Å</span></h1>
            <div class="subtitle">Îã¥ÎãπÏûê(ASSIGNEE)Í∞Ä ÏïÑÎãå Îß§ÎãàÏ†ÄÏùò ÎãµÎ≥ÄÏùÑ Ïã§ÏãúÍ∞ÑÏúºÎ°ú Î™®ÎãàÌÑ∞ÎßÅÌï©ÎãàÎã§</div>
            <div class="date-display" id="dateDisplay"></div>
            <div class="live-indicator">LIVE MONITORING</div>
        </div>
        
        <!-- Control Bar -->
        <div class="control-bar">
            <div class="control-buttons">
                <button class="btn primary" onclick="App.loadData()" id="refreshBtn">
                    <span id="refreshIcon">‚Üª</span> ÏÉàÎ°úÍ≥†Ïπ®
                </button>
                <button class="btn" onclick="App.generateTestData()" id="testBtn">
                    ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞
                </button>
                <button class="btn" onclick="App.exportData()" id="exportBtn">
                    CSV ÎÇ¥Î≥¥ÎÇ¥Í∏∞
                </button>
                <button class="btn" onclick="App.toggleSettings()" id="settingsBtn">
                    ÏÑ§Ï†ï
                </button>
                <button class="btn" onclick="App.clearData()" id="clearBtn">
                    Ï¥àÍ∏∞Ìôî
                </button>
            </div>
            <div class="status-indicator">
                <span id="statusText" style="color: var(--text-muted);">ÎåÄÍ∏∞ Ï§ë</span>
                <span id="lastUpdate" style="margin-left: 20px; color: var(--text-muted);"></span>
            </div>
        </div>
        
        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üí¨</div>
                <div class="stat-value" id="totalResponses">0</div>
                <div class="stat-label">ÎπÑÎã¥Îãπ ÎãµÎ≥Ä</div>
                <div class="stat-change" id="changeResponses">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úçÔ∏è</div>
                <div class="stat-value" id="totalChars">0</div>
                <div class="stat-label">Ï¥ù Í∏ÄÏûêÏàò</div>
                <div class="stat-change" id="changeChars">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-value" id="activeManagers">0</div>
                <div class="stat-label">ÌôúÎèô Îß§ÎãàÏ†Ä</div>
                <div class="stat-change" id="changeManagers">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚è±Ô∏è</div>
                <div class="stat-value" id="avgResponseTime">0</div>
                <div class="stat-label">ÌèâÍ∑† ÏùëÎãµ(Î∂Ñ)</div>
                <div class="stat-change" id="changeTime">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-value" id="avgChars">0</div>
                <div class="stat-label">ÌèâÍ∑† Í∏ÄÏûêÏàò</div>
                <div class="stat-change" id="changeAvg">-</div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs-container">
            <div class="tabs-header">
                <button class="tab-button active" onclick="App.switchTab('realtime')">Ïã§ÏãúÍ∞Ñ</button>
                <button class="tab-button" onclick="App.switchTab('ranking')">Îû≠ÌÇπ</button>
                <button class="tab-button" onclick="App.switchTab('analytics')">Î∂ÑÏÑù</button>
                <button class="tab-button" onclick="App.switchTab('history')">ÌûàÏä§ÌÜ†Î¶¨</button>
            </div>

            <!-- Ïã§ÏãúÍ∞Ñ ÌÉ≠ -->
            <div class="tab-content active" id="tab-realtime">
                <div class="activity-feed">
                    <div class="feed-header">
                        <div class="feed-title">Ïã§ÏãúÍ∞Ñ ÌôúÎèô</div>
                        <span id="feedCount" style="color: var(--text-muted);">0Í∞ú ÌôúÎèô</span>
                    </div>
                    <div class="feed-content" id="activityFeed">
                        <div style="padding: 50px; text-align: center; color: var(--text-muted);">
                            Ïã§ÏãúÍ∞Ñ ÌôúÎèôÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§
                        </div>
                    </div>
                </div>
            </div>

            <!-- Îû≠ÌÇπ ÌÉ≠ -->
            <div class="tab-content" id="tab-ranking">
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Ïò§ÎäòÏùò ÎπÑÎã¥Îãπ ÎèÑÏõÄ Îû≠ÌÇπ</div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th width="80">ÏàúÏúÑ</th>
                                <th>Îß§ÎãàÏ†Ä</th>
                                <th width="100">ÌöüÏàò</th>
                                <th width="120">Í∏ÄÏûêÏàò</th>
                                <th width="120">ÌèâÍ∑†</th>
                            </tr>
                        </thead>
                        <tbody id="rankingTable">
                            <tr><td colspan="5" style="text-align:center;padding:50px;color:var(--text-muted);">
                                Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...
                            </td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Î∂ÑÏÑù ÌÉ≠ -->
            <div class="tab-content" id="tab-analytics">
                <div class="chart-container">
                    <canvas id="hourlyChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="managerChart"></canvas>
                </div>
            </div>

            <!-- ÌûàÏä§ÌÜ†Î¶¨ ÌÉ≠ -->
            <div class="tab-content" id="tab-history">
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">ÏµúÍ∑º 30Ïùº ÌÜµÍ≥Ñ</div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ÎÇ†Ïßú</th>
                                <th>ÎãµÎ≥Ä Ïàò</th>
                                <th>Îß§ÎãàÏ†Ä Ïàò</th>
                                <th>Ï¥ù Í∏ÄÏûêÏàò</th>
                                <th>ÌèâÍ∑† ÏùëÎãµ</th>
                            </tr>
                        </thead>
                        <tbody id="historyTable">
                            <tr><td colspan="5" style="text-align:center;padding:50px;color:var(--text-muted);">
                                Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...
                            </td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h3>ÏÑ§Ï†ï</h3>
            <button onclick="App.toggleSettings()" style="background:none;border:none;color:var(--text);font-size:20px;cursor:pointer;">‚úï</button>
        </div>
        <div class="settings-content">
            <div class="setting-group">
                <label class="setting-label">ÏûêÎèô ÏÉàÎ°úÍ≥†Ïπ® (Ï¥à)</label>
                <input type="number" class="setting-input" id="refreshInterval" value="300" min="10">
            </div>
            <div class="setting-group">
                <label class="setting-label">Îç∞Ïù¥ÌÑ∞ Î≥¥Í¥Ä Í∏∞Í∞Ñ (Ïùº)</label>
                <input type="number" class="setting-input" id="dataRetention" value="30" min="1">
            </div>
            <div class="setting-group">
                <label class="setting-label">ÏïåÎ¶º ÏÇ¨Ïö¥Îìú</label>
                <select class="setting-input" id="notificationSound">
                    <option value="on">ÏºúÍ∏∞</option>
                    <option value="off">ÎÅÑÍ∏∞</option>
                </select>
            </div>
            <button class="btn primary" onclick="App.saveSettings()" style="width:100%;">Ï†ÄÏû•</button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // =====================================================
        // Supabase ÏÑ§Ï†ï
        // =====================================================
        const SUPABASE_URL = 'https://bhtqjipygkawoyieidgp.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJodHFqaXB5Z2thd295aWVpZGdwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0ODg5NjgsImV4cCI6MjA3MDA2NDk2OH0.hu2EAj9RCq436QBtfbEVF4aGOau4WWomLMDKahN4iAA';
        
        const { createClient } = window.supabase;
        const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

        // =====================================================
        // Î©îÏù∏ Ïï± Í∞ùÏ≤¥
        // =====================================================
        const App = {
            // Îç∞Ïù¥ÌÑ∞
            currentData: [],
            activityFeed: [],
            lastStats: {},
            charts: {},
            realtimeChannel: null,
            refreshTimer: null,

            // Îß§ÎãàÏ†Ä Îß§Ìïë
            managerMap: {
                '520798': 'Ï±ÑÏ£ºÏùÄ', '520799': 'Ïú§ÎèÑÏö∞Î¶¨', '521212': 'ÏÜêÏßÑÏö∞',
                '521213': 'Ï∞®Ï†ïÌôò', '521214': 'ÏÑúÎØºÍµ≠', '521215': 'Íµ¨Î≥∏ÏòÅ',
                '521217': 'Í∂åÏû¨ÌòÑ', '521218': 'Ï°∞ÏãúÌòÑ', '521220': 'ÍπÄÏÉÅÏïÑ',
                '521221': 'ÍπÄÏßÄÏõê', '521222': 'Ï†ïÎã§Ìòú', '521223': 'ÍπÄÏãúÏßÑ',
                '521224': 'Ïã†ÌòúÏÑú', '521226': 'Ïù¥ÎØºÏ£º', '521227': 'Ï†ïÏ£ºÏó∞',
                '521230': 'ÍπÄÏßÑÌõÑ', '521231': 'Ïù¥ÌòúÏòÅ', '521232': 'ÍπÄÏòÅÏßÑ',
                '521233': 'ÏµúÌò∏Ïùµ', '521234': 'ÏÑúÏ†ïÍµ≠', '521236': 'Î∞ïÌï¥ÏòÅ',
                '521239': 'Ïù¥Ï¢ÖÎØº', '521243': 'Í∞ïÌòïÏö±', '521378': 'Ïò§ÎØºÍ≤Ω',
                '521379': 'ÏµúÏàòÎä•', '521381': 'ÍπÄÏ±ÑÏòÅ', '521382': 'Ï†ÑÏßÄÏú§',
                '521383': 'Ïù¥Ïú†Ï£º', '521384': 'ÍπÄÎ≤îÏ£º', '521385': 'ÍπÄÏòàÏßÑ',
                '521386': 'Ï∞®ÏäπÌòÑ', '521392': 'Ïù¥ÏÑ±Ï≤†', '521393': 'Î∞ïÏùÄÏßÑ',
                '521410': 'Ïò§ÎØºÌôò', '521416': 'Ï†ÑÎØ∏ÎûÄ', '521564': 'ÍπÄÍµ≠ÌòÑ',
                '521567': 'ÍπÄÏÑ±ÌòÑ', '521902': 'ÍπÄÏãúÏú§', '521937': 'ÍπÄÏ¢ÖÌòÑ',
                '521942': 'Ï£ºÏùÄÏßÄ', '521965': 'Í∞ïÌóåÏ§Ä', '522038': 'Î¨∏ÌôçÏ£º',
                '523260': 'Ï£ºÏàòÌòÑ', '523268': 'Ïò§ÌòÑÏàò', '527833': 'Ïú†Ï¢ÖÌòÑ',
                '527836': 'ÍπÄÏßÑÌòë', '527910': 'Ïò•ÏÑúÏïÑ', '528425': 'Ï†ïÏö©Ïö±',
                '528628': 'ÍπÄÏÜåÏòÅ', '529149': 'ÎèôÏàòÏßÑ', '529561': 'ÌïúÏäπÏú§',
                '544751': 'ÏÑ±ÏùºÌõà', '555633': 'ÏïÑÏ†ïÎãπ', '555865': 'Í≥µÌòÑÏ§Ä'
            },

            // Ï¥àÍ∏∞Ìôî
            async init() {
                console.log('Ïï± Ï¥àÍ∏∞Ìôî ÏãúÏûë...');
                
                // ÎÇ†Ïßú ÌëúÏãú
                this.updateDateTime();
                setInterval(() => this.updateDateTime(), 60000);
                
                // ÌÖåÏù¥Î∏î ÏÉùÏÑ±
                await this.createTables();
                
                // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
                await this.loadData();
                
                // Ïã§ÏãúÍ∞Ñ Íµ¨ÎèÖ
                this.setupRealtime();
                
                // Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî
                this.initCharts();
                
                // ÏûêÎèô ÏÉàÎ°úÍ≥†Ïπ®
                this.startAutoRefresh();
                
                // Î°úÎî© ÌôîÎ©¥ Ïà®Í∏∞Í∏∞
                setTimeout(() => {
                    document.getElementById('loadingScreen').classList.add('hide');
                }, 500);
            },

            // ÌÖåÏù¥Î∏î ÏÉùÏÑ± (ÏóÜÏúºÎ©¥)
            async createTables() {
                // RPC Ìï®ÏàòÎ°ú ÌÖåÏù¥Î∏î Ï≤¥ÌÅ¨ Î∞è ÏÉùÏÑ±
                const { error } = await supabase.rpc('create_tables_if_not_exists', {
                    sql: `
                        CREATE TABLE IF NOT EXISTS channel_non_assignee_responses (
                            id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
                            manager_id VARCHAR(20) NOT NULL,
                            manager_name VARCHAR(100),
                            user_chat_id VARCHAR(50) NOT NULL,
                            assignee_id VARCHAR(20) NOT NULL,
                            customer_name VARCHAR(100),
                            message_content TEXT,
                            char_count INTEGER DEFAULT 0,
                            response_time INTEGER,
                            is_helpful BOOLEAN DEFAULT false,
                            created_at TIMESTAMPTZ DEFAULT NOW()
                        );
                    `
                }).catch(() => {
                    // ÌÖåÏù¥Î∏îÏù¥ Ïù¥ÎØ∏ ÏûàÍ±∞ÎÇò RPCÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞ Î¨¥Ïãú
                    console.log('ÌÖåÏù¥Î∏î Ï≤¥ÌÅ¨ ÏôÑÎ£å');
                });
            },

            // ÎÇ†ÏßúÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏
            updateDateTime() {
                const now = new Date();
                const days = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'];
                document.getElementById('dateDisplay').textContent = 
                    `${now.getFullYear()}ÎÖÑ ${now.getMonth()+1}Ïõî ${now.getDate()}Ïùº ${days[now.getDay()]}ÏöîÏùº`;
                document.getElementById('lastUpdate').textContent = 
                    `ÎßàÏßÄÎßâ ÏóÖÎç∞Ïù¥Ìä∏: ${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}:${now.getSeconds().toString().padStart(2,'0')}`;
            },

            // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
            async loadData() {
                const btn = document.getElementById('refreshBtn');
                btn.disabled = true;
                document.getElementById('statusText').textContent = 'Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ï§ë...';
                
                try {
                    const today = new Date();
                    const startDate = new Date(today.getFullYear(), today.getMonth(), today.getDate()).toISOString();
                    const endDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1).toISOString();
                    
                    const { data, error } = await supabase
                        .from('channel_non_assignee_responses')
                        .select('*')
                        .gte('created_at', startDate)
                        .lt('created_at', endDate)
                        .order('created_at', { ascending: false });
                    
                    if (error) throw error;
                    
                    this.currentData = data || [];
                    this.updateUI();
                    this.updateDateTime();
                    document.getElementById('statusText').textContent = 'ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å';
                    
                } catch (error) {
                    console.error('Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error);
                    document.getElementById('statusText').textContent = 'Î°úÎìú Ïã§Ìå®';
                    this.showNotification('Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®', 'error');
                } finally {
                    btn.disabled = false;
                }
            },

            // ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
            async generateTestData() {
                const btn = document.getElementById('testBtn');
                btn.disabled = true;
                document.getElementById('statusText').textContent = 'ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ï§ë...';
                
                try {
                    const managers = Object.entries(this.managerMap).slice(0, 10);
                    const customers = ['ÍπÄÍ≥†Í∞ù', 'Ïù¥Í≥†Í∞ù', 'Î∞ïÍ≥†Í∞ù', 'ÏµúÍ≥†Í∞ù', 'Ï†ïÍ≥†Í∞ù'];
                    const messages = [
                        'ÏïàÎÖïÌïòÏÑ∏Ïöî. Î¨∏ÏùòÌïòÏã† ÎÇ¥Ïö© ÌôïÏù∏ÌñàÏäµÎãàÎã§. Ï≤òÎ¶¨ ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.',
                        'ÎÑ§, ÌôïÏù∏Ìï¥Î≥¥Îãà Ìï¥Îãπ Î¨∏Ï†úÎäî Ïù¥Î†áÍ≤å Ìï¥Í≤∞ÌïòÏãúÎ©¥ Îê©ÎãàÎã§.',
                        'Ï∂îÍ∞ÄÎ°ú Í∂ÅÍ∏àÌïòÏã† Ï†êÏù¥ ÏûàÏúºÏãúÎ©¥ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî.',
                        'Îπ†Î•∏ ÏãúÏùº ÎÇ¥Ïóê Ï≤òÎ¶¨Ìï¥ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§. Í∞êÏÇ¨Ìï©ÎãàÎã§.',
                        'ÏÉÅÏÑ∏Ìïú ÏïàÎÇ¥Î•º ÏúÑÌï¥ Îã¥Îãπ Î∂ÄÏÑúÏóê ÌôïÏù∏ ÌõÑ Ïó∞ÎùΩÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.'
                    ];
                    
                    const testData = [];
                    for (let i = 0; i < 20; i++) {
                        const [managerId, managerName] = managers[Math.floor(Math.random() * managers.length)];
                        const [assigneeId] = managers[Math.floor(Math.random() * managers.length)];
                        
                        if (managerId !== assigneeId) {
                            const message = messages[Math.floor(Math.random() * messages.length)];
                            testData.push({
                                manager_id: managerId,
                                manager_name: managerName,
                                user_chat_id: `chat_${Date.now()}_${i}`,
                                assignee_id: assigneeId,
                                customer_name: customers[Math.floor(Math.random() * customers.length)],
                                message_content: message,
                                char_count: message.length,
                                response_time: Math.floor(Math.random() * 10) + 1,
                                is_helpful: Math.random() > 0.3,
                                created_at: new Date()
                            });
                        }
                    }
                    
                    const { error } = await supabase
                        .from('channel_non_assignee_responses')
                        .insert(testData);
                    
                    if (error) throw error;
                    
                    await this.loadData();
                    this.showNotification(`${testData.length}Í∞ú ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± ÏôÑÎ£å`, 'success');
                    
                } catch (error) {
                    console.error('ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ïã§Ìå®:', error);
                    this.showNotification('ÏÉùÏÑ± Ïã§Ìå®', 'error');
                } finally {
                    btn.disabled = false;
                }
            },

            // UI ÏóÖÎç∞Ïù¥Ìä∏
            updateUI() {
                const stats = this.calculateStats();
                
                // ÌÜµÍ≥Ñ Ïπ¥Îìú ÏóÖÎç∞Ïù¥Ìä∏
                this.updateStatCard('totalResponses', stats.totalResponses);
                this.updateStatCard('totalChars', stats.totalChars);
                this.updateStatCard('activeManagers', stats.activeManagers);
                this.updateStatCard('avgResponseTime', stats.avgResponseTime);
                this.updateStatCard('avgChars', stats.avgChars);
                
                // Îû≠ÌÇπ ÏóÖÎç∞Ïù¥Ìä∏
                this.updateRanking(stats.managerStats);
                
                // Ï∞®Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
                this.updateCharts(stats);
                
                // Î≥ÄÌôîÎüâ ÌëúÏãú
                this.compareStats(stats);
                this.lastStats = stats;
            },

            // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞
            calculateStats() {
                const managerStats = {};
                const hourlyStats = new Array(24).fill(0);
                let totalChars = 0;
                let totalResponseTime = 0;
                let responseCount = 0;
                
                this.currentData.forEach(item => {
                    const managerId = item.manager_id;
                    const managerName = item.manager_name || this.managerMap[managerId] || `Îß§ÎãàÏ†Ä${managerId}`;
                    
                    if (!managerStats[managerId]) {
                        managerStats[managerId] = {
                            name: managerName,
                            count: 0,
                            chars: 0
                        };
                    }
                    managerStats[managerId].count++;
                    managerStats[managerId].chars += item.char_count || 0;
                    
                    const hour = new Date(item.created_at).getHours();
                    hourlyStats[hour]++;
                    
                    totalChars += item.char_count || 0;
                    
                    if (item.response_time) {
                        totalResponseTime += item.response_time;
                        responseCount++;
                    }
                });
                
                return {
                    totalResponses: this.currentData.length,
                    totalChars: totalChars,
                    activeManagers: Object.keys(managerStats).length,
                    avgResponseTime: responseCount > 0 ? Math.round(totalResponseTime / responseCount) : 0,
                    avgChars: this.currentData.length > 0 ? Math.round(totalChars / this.currentData.length) : 0,
                    managerStats: Object.entries(managerStats)
                        .map(([id, stats]) => ({ 
                            id, 
                            ...stats,
                            avgChars: Math.round(stats.chars / stats.count)
                        }))
                        .sort((a, b) => b.count - a.count),
                    hourlyStats: hourlyStats
                };
            },

            // ÌÜµÍ≥Ñ Ïπ¥Îìú ÏóÖÎç∞Ïù¥Ìä∏
            updateStatCard(id, value) {
                const element = document.getElementById(id);
                if (element) {
                    element.classList.add('updating');
                    element.textContent = typeof value === 'number' ? value.toLocaleString() : value;
                    setTimeout(() => element.classList.remove('updating'), 300);
                }
            },

            // ÌÜµÍ≥Ñ ÎπÑÍµê
            compareStats(newStats) {
                if (this.lastStats.totalResponses !== undefined) {
                    this.updateChange('changeResponses', newStats.totalResponses - this.lastStats.totalResponses);
                    this.updateChange('changeChars', newStats.totalChars - this.lastStats.totalChars);
                    this.updateChange('changeManagers', newStats.activeManagers - this.lastStats.activeManagers);
                    this.updateChange('changeTime', newStats.avgResponseTime - this.lastStats.avgResponseTime);
                    this.updateChange('changeAvg', newStats.avgChars - this.lastStats.avgChars);
                }
            },

            // Î≥ÄÌôîÎüâ ÌëúÏãú
            updateChange(id, value) {
                const element = document.getElementById(id);
                if (element) {
                    if (value === 0) {
                        element.textContent = '-';
                        element.className = 'stat-change';
                    } else {
                        const sign = value > 0 ? '+' : '';
                        element.textContent = `${sign}${value}`;
                        element.className = value > 0 ? 'stat-change' : 'stat-change down';
                    }
                }
            },

            // Îû≠ÌÇπ ÏóÖÎç∞Ïù¥Ìä∏
            updateRanking(managerStats) {
                const tbody = document.getElementById('rankingTable');
                if (!tbody) return;
                
                if (managerStats.length === 0) {
                    tbody.innerHTML = `<tr><td colspan="5" style="text-align:center;padding:50px;color:var(--text-muted);">
                        Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§</td></tr>`;
                    return;
                }
                
                tbody.innerHTML = managerStats.slice(0, 10).map((stat, index) => {
                    const rankClass = index < 3 ? `rank-${index + 1}` : '';
                    return `
                        <tr>
                            <td><span class="rank-number ${rankClass}">${index + 1}</span></td>
                            <td>${stat.name}<br><small style="color:var(--text-muted);">${stat.id}</small></td>
                            <td>${stat.count.toLocaleString()}</td>
                            <td>${stat.chars.toLocaleString()}</td>
                            <td>${stat.avgChars.toLocaleString()}</td>
                        </tr>
                    `;
                }).join('');
            },

            // Ïã§ÏãúÍ∞Ñ ÏÑ§Ï†ï
            setupRealtime() {
                this.realtimeChannel = supabase
                    .channel('channel-changes')
                    .on(
                        'postgres_changes',
                        {
                            event: 'INSERT',
                            schema: 'public',
                            table: 'channel_non_assignee_responses'
                        },
                        (payload) => {
                            this.handleRealtimeUpdate(payload.new);
                        }
                    )
                    .subscribe();
            },

            // Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ï≤òÎ¶¨
            handleRealtimeUpdate(newData) {
                this.currentData.unshift(newData);
                this.addToActivityFeed(newData);
                this.updateUI();
                
                const managerName = newData.manager_name || this.managerMap[newData.manager_id] || `Îß§ÎãàÏ†Ä${newData.manager_id}`;
                this.showNotification(`${managerName}ÎãòÏù¥ ÎπÑÎã¥Îãπ ÏÉÅÎã¥Ïóê ÎãµÎ≥ÄÌñàÏäµÎãàÎã§`, 'success');
            },

            // ÌôúÎèô ÌîºÎìúÏóê Ï∂îÍ∞Ä
            addToActivityFeed(data) {
                const feed = document.getElementById('activityFeed');
                const managerName = data.manager_name || this.managerMap[data.manager_id] || `Îß§ÎãàÏ†Ä${data.manager_id}`;
                const time = new Date(data.created_at).toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });
                
                const activityHtml = `
                    <div class="activity-item">
                        <div class="activity-time">${time}</div>
                        <div class="activity-text">
                            <span class="activity-counselor">${managerName}</span>ÎãòÏù¥ 
                            <span class="activity-customer">${data.customer_name || 'Í≥†Í∞ù'}</span>ÎãòÏùò
                            ÎπÑÎã¥Îãπ ÏÉÅÎã¥Ïóê ÎãµÎ≥Ä (${data.char_count}Ïûê)
                        </div>
                    </div>
                `;
                
                this.activityFeed.unshift(activityHtml);
                if (this.activityFeed.length > 20) this.activityFeed.pop();
                
                feed.innerHTML = this.activityFeed.join('');
                document.getElementById('feedCount').textContent = `${this.activityFeed.length}Í∞ú ÌôúÎèô`;
            },

            // Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî
            initCharts() {
                // ÏãúÍ∞ÑÎåÄÎ≥Ñ Ï∞®Ìä∏
                const hourlyCtx = document.getElementById('hourlyChart');
                if (hourlyCtx) {
                    this.charts.hourly = new Chart(hourlyCtx, {
                        type: 'bar',
                        data: {
                            labels: Array.from({length: 24}, (_, i) => `${i}Ïãú`),
                            datasets: [{
                                label: 'ÎãµÎ≥Ä Ïàò',
                                data: new Array(24).fill(0),
                                backgroundColor: 'rgba(30, 111, 255, 0.5)',
                                borderColor: 'rgba(30, 111, 255, 1)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false }
                            },
                            scales: {
                                y: { 
                                    beginAtZero: true,
                                    grid: { color: '#222' },
                                    ticks: { color: '#888' }
                                },
                                x: {
                                    grid: { color: '#222' },
                                    ticks: { color: '#888' }
                                }
                            }
                        }
                    });
                }

                // Îß§ÎãàÏ†ÄÎ≥Ñ Ï∞®Ìä∏
                const managerCtx = document.getElementById('managerChart');
                if (managerCtx) {
                    this.charts.manager = new Chart(managerCtx, {
                        type: 'doughnut',
                        data: {
                            labels: [],
                            datasets: [{
                                data: [],
                                backgroundColor: [
                                    '#1E6FFF', '#00D4FF', '#FFD700', '#FF6B6B', '#4ECDC4',
                                    '#95E77E', '#FF9F43', '#6C5CE7', '#A29BFE', '#FD79A8'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'right',
                                    labels: { color: '#888' }
                                }
                            }
                        }
                    });
                }
            },

            // Ï∞®Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
            updateCharts(stats) {
                if (this.charts.hourly) {
                    this.charts.hourly.data.datasets[0].data = stats.hourlyStats;
                    this.charts.hourly.update();
                }

                if (this.charts.manager && stats.managerStats.length > 0) {
                    const top5 = stats.managerStats.slice(0, 5);
                    this.charts.manager.data.labels = top5.map(s => s.name);
                    this.charts.manager.data.datasets[0].data = top5.map(s => s.count);
                    this.charts.manager.update();
                }
            },

            // ÌÉ≠ Ï†ÑÌôò
            switchTab(tabName) {
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                event.target.classList.add('active');
                document.getElementById(`tab-${tabName}`).classList.add('active');
            },

            // ÏÑ§Ï†ï Ìå®ÎÑê ÌÜ†Í∏Ä
            toggleSettings() {
                const panel = document.getElementById('settingsPanel');
                panel.classList.toggle('open');
            },

            // ÏÑ§Ï†ï Ï†ÄÏû•
            saveSettings() {
                const interval = document.getElementById('refreshInterval').value;
                localStorage.setItem('refreshInterval', interval);
                
                this.startAutoRefresh();
                this.showNotification('ÏÑ§Ï†ïÏù¥ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§', 'success');
                this.toggleSettings();
            },

            // ÏûêÎèô ÏÉàÎ°úÍ≥†Ïπ®
            startAutoRefresh() {
                if (this.refreshTimer) clearInterval(this.refreshTimer);
                
                const interval = localStorage.getItem('refreshInterval') || 300;
                this.refreshTimer = setInterval(() => this.loadData(), interval * 1000);
            },

            // Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞
            exportData() {
                if (this.currentData.length === 0) {
                    this.showNotification('ÎÇ¥Î≥¥ÎÇº Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§', 'error');
                    return;
                }
                
                const csv = this.convertToCSV(this.currentData);
                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                
                link.setAttribute('href', url);
                link.setAttribute('download', `channel_non_assignee_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                this.showNotification('Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ ÏôÑÎ£å', 'success');
            },

            // CSV Î≥ÄÌôò
            convertToCSV(data) {
                const headers = ['ÏãúÍ∞Ñ', 'Îß§ÎãàÏ†ÄID', 'Îß§ÎãàÏ†ÄÎ™Ö', 'Í≥†Í∞ùÎ™Ö', 'ÎåÄÌôîID', 'Í∏ÄÏûêÏàò', 'ÏùëÎãµÏãúÍ∞Ñ(Î∂Ñ)'];
                const rows = data.map(item => [
                    new Date(item.created_at).toLocaleString('ko-KR'),
                    item.manager_id,
                    item.manager_name || this.managerMap[item.manager_id] || `Îß§ÎãàÏ†Ä${item.manager_id}`,
                    item.customer_name || '-',
                    item.user_chat_id,
                    item.char_count,
                    item.response_time || ''
                ]);
                
                return [headers, ...rows].map(row => row.join(',')).join('\n');
            },

            // Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî
            async clearData() {
                if (!confirm('Ï†ïÎßêÎ°ú Ïò§Îäò Îç∞Ïù¥ÌÑ∞Î•º Î™®Îëê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
                
                try {
                    const today = new Date();
                    const startDate = new Date(today.getFullYear(), today.getMonth(), today.getDate()).toISOString();
                    
                    const { error } = await supabase
                        .from('channel_non_assignee_responses')
                        .delete()
                        .gte('created_at', startDate);
                    
                    if (error) throw error;
                    
                    await this.loadData();
                    this.showNotification('Îç∞Ïù¥ÌÑ∞Í∞Ä Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§', 'success');
                    
                } catch (error) {
                    console.error('Ï¥àÍ∏∞Ìôî Ïã§Ìå®:', error);
                    this.showNotification('Ï¥àÍ∏∞Ìôî Ïã§Ìå®', 'error');
                }
            },

            // ÏïåÎ¶º ÌëúÏãú
            showNotification(message, type = 'success') {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = `notification show ${type}`;
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
        };

        // Ïï± ÏãúÏûë
        window.addEventListener('DOMContentLoaded', () => {
            App.init();
        });
    </script>
</body>
</html>
